<odoo>
    <data>
        <record id="menu_instance_creation" model="website.menu">
            <field name="name">Instance Request</field>
            <field name="url">/my/instances</field>
            <field name="parent_id" ref="website.main_menu"/>
            <field name="sequence">50</field>
        </record>

        <!--        We inherit the principal menu and add instance request portal-->
        <template id="portal_my_home_instances" name="Show Instances" customize_show="True"
                  inherit_id="portal.portal_my_home" priority="20">
            <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
                <t t-call="portal.portal_docs_entry">
                    <t t-set="title">Instances</t>
                    <t t-set="url" t-value="'/my/instances'"/>
                    <t t-set="placeholder_count" t-value="'instances_count'"/>
                </t>
            </xpath>
        </template>

        <!--        Our instance request portal Menu -->
        <template id="portal_my_home_menu_instances" name="Portal layout : instances menu entries"
                  inherit_id="portal.portal_breadcrumbs" priority="20">
            <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">
                <li t-if="page_name == 'instances'"
                    t-attf-class="breadcrumb-item #{'active ' if not instances else ''}">
                    <a t-if="instances" t-attf-href="/my/instances?{{ keep_query() }}">Instances</a>
                    <t t-else="">Instances</t>
                </li>
   <!--             <li t-if="instances" t-attf-href="/my/instances?{{ keep_query() }}" class="breadcrumb-item active">
                    <t t-field="instances.name"/>
                </li>-->
                 <span t-if="page_name == 'instances'" style="margin-left: 7.9cm">
                    <a id="submit-ticket" t-attf-href="/my/instances/create">
                        <button class="btn btn-secondary" style="height:0.8cm; padding:4px">
                            <center>Create an Instance</center>
                        </button>
                    </a>
                </span>
            </xpath>
        </template>

         <template id="create_instance" name="First page">
            <t t-call="website.layout">
                <div id="wrap">
                    <section class="s_title parallax s_parallax_is_fixed bg-black-50 pt24 pb24" data-vcss="001"
                             data-snippet="s_title" data-scroll-background-ratio="1">
                        <span class="s_parallax_bg oe_img_bg"
                              style="background-image: url('/web/image/website.s_banner_default_image'); background-position: 50% 0;"/>
                        <div class="o_we_bg_filter bg-black-50"/>
                        <div class="container">
                            <h1>Create instance</h1>
                        </div>
                    </section>
                    <br></br>
                    <div class="oe_structure">
                        <div class="container">
                            <div class="div1" style="display: inine-block">
                                <form role="form" action="/my/instances/create_request" method="POST">
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                    <input type="hidden" name="state" value="submitted"/>
                                    <input type="hidden" name="name" value="New"/>
                                    <div class="form-group">
                                        <label for="url">URL</label>
                                        <input class="form-control" style="width : 13cm" name="url"/>
                                    </div>
                                    <br></br>
                                    <div class="form-group">
                                        <label for="cpu">CPU</label>
                                        <input class="form-control" type="text" style="width : 13cm" name="cpu"/>
                                    </div>
                                    <br></br>
                                    <div class="form-group">
                                        <label for="ram">RAM</label>
                                        <input class="form-control" type="text" style="width : 13cm" name="ram"/>
                                    </div>
                                    <br></br>
                                    <div class="form-group">
                                        <label for="disk">DISK</label>
                                        <input class="form-control" type="text" style="width : 13cm" name="disk"/>
                                    </div>
                                    <br></br>
                                    <div class="form-group">
                                        <label for="limit_date">Limit Date</label>
                                        <input class="form-control" type="date" style="width : 13cm" name="limit_date"/>
                                    </div>
                                    <br></br>
                                    <div class="clearfix oe_login_buttons">
                                        <button type="submit" class="btn btn-primary pull-left">Create Instance</button>
                                    </div>
                                    <br></br>
                                </form>
                                <div class="div2" style="position: inline-block">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </template>


        <template id="portal_my_instances" name="My Instances">
            <t t-call="portal.portal_layout">
                <t t-set="breadcrumbs_searchbar" t-value="True"/>
                <t t-call="portal.portal_searchbar">
                    <t t-set="title">Instances</t>
                </t>
                <t t-if="grouped_instances" t-call="portal.portal_table">
                    <thead>
                        <tr class="active">
                            <th>Designation #</th>
                            <th class="text-center">Created By</th>
                            <th class="text-center">Customer</th>
                            <th class="text-center">Odoo Version</th>
                            <th class="text-center">Limit date</th>
                            <th class="text-center">URL</th>
                            <th class="text-center">State</th>
                        </tr>
                    </thead>
                    <t t-foreach="grouped_instances" t-as="instances">
                        <tbody>
                            <tr t-if="not groupby =='none'" class="table-light">
                                <th t-if="groupby != 'none'" colspan="3">
                                    <span t-field="instances[0].sudo().state"/>
                                </th>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr t-foreach="instances" t-as="instance">
                                <td>
                                    <a t-att-href="">
                                        <span t-field="instance.name"/>
                                    </a>
                                </td>
                                <td class="text-center">
                                    <span t-field="instance.create_uid"/>
                                </td>
                                <td class="text-center">
                                    <span t-field="instance.partner_id"/>
                                </td>
                                <td class="text-center">
                                    <span t-field="instance.odoo_version_id"/>
                                </td>
                                <td class="text-center">
                                    <span t-field="instance.limit_date"/>
                                </td>
                                <td class="text-center">
                                    <span t-field="instance.url"/>
                                </td>
                                <td class="text-center">
                                    <span t-field="instance.sudo().state"/>
                                </td>
                            </tr>
                        </tbody>
                    </t>
                </t>
                <p t-else="">There are currently no instances for your account.</p>
            </t>
        </template>


        <!--        <template id="portal_my_instances_form_view" name="My Instances">-->
        <!--            <xpath expr="//div[hasclass('o_portal_sidebar')]" position="inside">-->
        <!--                <p t-out="instance.name"/>-->
        <!--                <p t-out="instance.create_uid"/>-->
        <!--                <p t-out="instance.partner_id"/>-->
        <!--                <p t-out="instance.odoo_version_id"/>-->
        <!--                <p t-out="instance.limit_date"/>-->
        <!--                <p t-out="instance.url"/>-->
        <!--                <p t-out="instance.state"/>-->
        <!--            </xpath>-->
        <!--        </template>-->
    </data>
</odoo>